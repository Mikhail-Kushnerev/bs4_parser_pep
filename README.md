# Парсер manual по Python

## Описание

Парсер, собирающий информацию с сайта https://www.python.org/:
- версии языка и авторов версий;
- актуальные статусы всех стандартов PEP;
- актуальную документацию.

Всю собранную информацию можно:
- сохранить на компьютер в формате **.csv**;
- вывести структуировано в виде таблицы в консоль;
- документацию скачать архивом.

## Оглавление
- [технологии](#технологии)
- <a href="#t1"> структура парсера </a>
- [описание работы](#описание-работы)
- [запуск](#запуск-парсера)
- [автор](#автор)

## Технологии
- Python;
- CachedSession;
- BeatifulSoup.

<details open>
  <summary>
    <h2 id="t1"> Структура парсера </h2>
  </summary>

```cmd
bs4_parser_pep:
|   .flake8
|   .gitignore
|   pytest.ini
|   README.md
|   requirements.txt
|
+---src
|   |   configs.py  <-- конфигуратор команд командной строки, логов
|   |   constants.py  <-- Дефолтные ссылки, форматы, пути и т.д.
|   |   exceptions.py  <-- Кастомные исключения
|   |   main.py
|   |   outputs.py  <-- Обработчик вывода ф-ий
|   |   utils.py  <-- Обработчик исключений
|   |   __init__.py
|   |   
|   +---downloads  <-- директория для сохранения документации
|   |
|   +---logs  <-- директория для хранения логов
|   |
|   +---results  <-- директория для сохранения вывода с расширением .csv
|   |
|   \---__pycache__
|
+---tests  <-- Тесты, активирующиеся по команде pytest из корневой директории
|
\---venv

```

</details>

[⬆️Оглавление](#оглавление)

# Описание работы

Парсер рабоет в 4-ёх режимах, для каждого из которых присвоена своя функция:
1. сбор версий языка и их авторов - `whats_new`;
2. сбор информации о версиях - `latest_versions`;
3. сбор информации о стандартах PEP - `pep`;
4. скачивание документации - `download`.

Работа каждой функции осуществляется путём её вызова в консоли. При вызове  одной функции из п.1-3  
возможны различные представления вывода информации:
- стандартный вывод в консоли; 
- вывод в консоли, оформленный в виде таблицы;
- сохранение вывода файлом с названием той функции, вызов которой был осуществлен, и расширением **.csv**.
Файл помещается в папку **results** (см. <a href="#t1">дерево проекта</a>)

[⬆️Оглавление](#оглавление)

## Запуск парсера

- Необходимо перейти в папку **src**:
    ```python
    cd /src
    ```
- Для работы парсера активировать вирт. окружение не надо. Запуск его осуществляется по команде  
`python main.py` и добавлений нужной функции (см. [описание работы](#описание-работы)):
    ```python
    python main.py whats-new
    ```
    Вывод для такого ввода будет сл-им:
    ```cmd
    Ссылка на статью Заголовок Редактор, Автор
    https://docs.python.org/3/whatsnew/3.10.html What’s New In Python 3.10¶  Release 3.10.5  Date July 25, 2022  Editor Pablo Galindo Salgado
    https://docs.python.org/3/whatsnew/3.9.html What’s New In Python 3.9¶  Release 3.10.5  Date July 25, 2022  Editor Łukasz Langa
    ...
    ```
    <a href="#t2">Смотри замечание</a>

- При использвании доп. команд (`-o pretty` или `-o file`) вывод будет либо оформлен в виде таблицы и
выведен в консоль, либо сохранён файлом с расширеним **.csv** соответственно:
    ```cmd
    +----------------------------------------------+----------------------------+-----------------------------------------------------------------------------------------------------------------+
    | Ссылка на статью                             | Заголовок                  | Редактор, Автор                                                                                                 |
    +----------------------------------------------+----------------------------+-----------------------------------------------------------------------------------------------------------------+
    | https://docs.python.org/3/whatsnew/3.10.html | What’s New In Python 3.10¶ |  Release 3.10.5  Date July 25, 2022  Editor Pablo Galindo Salgado                                               |
    | https://docs.python.org/3/whatsnew/3.9.html  | What’s New In Python 3.9¶  |  Release 3.10.5  Date July 25, 2022  Editor Łukasz Langa                                                        |
    ...
    ```
    <a href="#t2">Смотри замечание</a>  
    <hr>  

    <a id="t2">Замечание</a>  
    Данный вывод действителен только для ф-ий из п.1-3 (см. [описание работы](#описание-работы))  
    [⬆️Оглавление](#оглавление)


## Автор

[Mikhail Kushnerev](https://github.com/Mikhail-Kushnerev)  
[в начало](#парсер-manual-по-python)